<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
    html,body{
        margin:0;
        padding:0;
    }
    #bigBox{
        position: relative;
        width: 500px;
        height: 340px;
        background-image: url(./img/11.jpg);
        background-size: 500px 340px;
    }
    #mirrorBox{
        position: absolute;
        left: 300px;
        top: 50px;
        width: 100px;
        height: 100px;
        background-color: aqua;
        opacity: 0.5;
    }
    #showBox{
        position: absolute;
        left: 510px;
        top: 0px;
        width: 300px;
        height: 300px;
        background-image: url(./img/11.jpg);
        background-size: 500px 340px;
        background-position: -300px -50px;
    }
    </style>
</head>
<body style="height:1000px">
    <div id="bigBox">
        <div id="mirrorBox"></div>
        <div id="showBox"></div>

    </div>
</body>
</html>
<script>
window.onload=function(){
    $("#bigBox").onmousemove=function(event){
        let evt=window.event || event;
        //一、数据处理
        // // 数据改变
 
        let left1=evt.pageX-this.offsetLeft-$("#mirrorBox").offsetWidth/2;
        let top1=evt.pageY-this.offsetTop-$("#mirrorBox").offsetHeight/2;
        //边界处理
        if(left1<0){
            left1=0;
        }else if(left1>this.offsetWidth-$("#mirrorBox").offsetWidth){
            left1=this.offsetWidth-$("#mirrorBox").offsetWidth
        }
        if(top1<0){
            top1=0;
        }else if(top1>this.offsetHeight-$("#mirrorBox").offsetHeight){
            top1=this.offsetHeight-$("#mirrorBox").offsetHeight;
        }

        $("#mirrorBox").style.left=left1+"px";
        $("#mirrorBox").style.top=top1+"px";
        // $("#showBox").style.backgroundPosition = `-${left1}px -${top1}px`;
        // $("#showBox").style.backgroundPosition = `-${left1}px -${top1}px`;
        $("#showBox").style.backgroundPosition=`-${3*left1}px -${3*top1}px`;//$("#mirrorBox")

    }
}



function $(str){
    if(str.charAt(0)=="#"){
        return document.getElementById(str.substring(1));
    }else if(str.charAt(0)=="."){
        return document.getElementsByClassName(str.substring(1));
    }else{
        return document.getElementsByTagName(str)
    }
}
</script>